<!DOCTYPE html>
<html data-bs-theme="dark">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Exam Generator</title>
    <link rel="icon" type="image/x-icon" href="favicon.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="styles.css" rel="stylesheet">
    <script src="index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</head>


<body>
    <div class="dropdown-center position-sticky top-0 start-0">
        <button class="btn btn-outline-secondary border-0 dropdown-toggle" type="button" data-bs-toggle="dropdown"
            aria-expanded="false">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                class="bi bi-brightness-high-fill" viewBox="0 0 16 16">
                <path
                    d="M12 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708" />
            </svg>
        </button>
        <ul class="dropdown-menu border-0" style="min-width: 1.5rem;">
            <li onClick="setColor(&quot;light&quot;)" role="button"><a class="dropdown-item icon-link">
                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                class="bi bi-brightness-high-fill">
                <path
                    d="M12 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708" />
            </svg>
            </a></li>
            <li onClick="setColor(&quot;dark&quot;)" role="button"><a class="dropdown-item icon-link">
                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-moon-fill">
                    <path d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278"/>
                  </svg>
            </a></li>
        </ul>
    </div>
    <div class="container col-md-10 text-center">
        <h1>Exam Generator</h1>
    </div>
    <div class="container col-md-9 mt-5" id="questionSettings">
        <div class="card border-0">
            <div class="card-body pb-3">
                <label for="formFile" class="form-label">Please upload the questions.json file.</label>
                <input accept=".json" class="form-control mb-4" type="file" id="formFile" name="questionsFile" required>

                <div class="row" id="quizSettings" hidden>
                    <div class="col-md">
                        <label for="numberOfQuestions1" class="form-label">Number of questions (10-60)</label>
                        <div class="row align-items-center mb-4">
                            <div class="col-xl-9 col-lg-8">
                                <input name="numQuestions" type="range" class="form-range" min="10" max="169" value="60"
                                    id="numberOfQuestions1" oninput="updateVal('numberOfQuestions2', this.value);">
                            </div>
                            <div class="col-xl-3 col-lg-4">
                                <input type="number" class="form-control" id="numberOfQuestions2" value="60" min="10" max="169"
                                    oninput="updateVal('numberOfQuestions1', this.value);">
                            </div>
                        </div>
                    </div> 
                    <div class="col-md">
                        <label for="passingScore1" class="form-label">Passing Score (50-100)</label>
                        <div class="row align-items-center mb-4">
                            <div class="col-xl-9 col-lg-8">
                                <input name="passingScore" type="range" class="form-range" min="50" max="100" value="80" id="passingScore1"
                                    oninput="updateVal('passingScore2', this.value);">
                            </div>
                            <div class="col-xl-3 col-lg-4">
                                <input type="number" class="form-control" id="passingScore2" value="80" min="50" max="100"
                                    oninput="updateVal('passingScore1', this.value);">
                            </div>
                        </div>
                    </div>
                    </div>

                <div class="text-center" id="load-quiz" hidden>
                    <button class="btn btn-success" type="submit">Load
                        quiz</button>
                </div>
                <div class="text-center mt-3" id="reload-page" hidden>
                    <button type="submit" class="btn btn-warning" onclick="location.reload()">Choose another file</button>
                </div>
            </div>
        </div>
    </div>
    <div class="container col-md-8">
        <div class="accordion mt-5" id="accordionQuestions">
        </div>
    </div>

</body>
<footer class="d-flex mt-5 justify-content-center">
    <div class="container text-center">
        <span>Version 1.4 | RS, 2024 </br> </span>
        <a style="font-size: small;" data-bs-toggle="collapse" href="#changelog" role="button" onclick="scrolltoChangelog()">Changelog</a>
    </div>
</footer>

<div class="container col-md-8 mt-3 mb-3">
    <div class="collapse" id="changelog">
        <div class="card card-body changelog">
            <h6>1.4</h6>
            New quiz generation flow:
            Now the max amount of questions is calculated from the uploaded JSON. 
            
            <h6 class="mt-3">1.3.1</h6>
            Improved dark/light mode menu behavior

            <h6 class="mt-3">1.3</h6>
            Added image support <br>
            Fixed issue when checking answers in a multiple choice question with only one selected answer
            
            <h6 class="mt-3">1.2.1</h6>
            Changed encoding of JSON file for better special character compatibility.

            <h6 class="mt-3">1.2</h6>
            Title now changes to the filename.<br>
            Added passing score to question settings.<br>
            Fixed margin and added auto-scroll to changelog.
            
            <h6 class="mt-3">1.1</h6>
            Fixed duplicate questions being selected, tweaked question header color.
            
            <h6 class="mt-3">1.0</h6>
            Initial Release
        </div>
    </div>
</div>

<div class="modal" id="resumeModal" tabindex="-1" data-bs-backdrop="static">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Resume Quiz</h5>
        </div>
        <div class="modal-body">
          <h5 id="promptText" class="text-center mb-3">Existing quiz data has been found. Would you like to resume your previous quiz?</h5>
          <div class="row">
            <div class="col justify-content-center">
                <button id="resume-A" class="mx-auto btn btn-primary" style="width:100%">
                    <div class="card-body">
                    <h5 id="resume-title" class="card-title fw-bold">Resume QUIZ</h5>
                    <span id="resume-progress">X questions in progress</span><br>
                    <span id="resume-pending">Y questions remaining</span><br>
                    </div>
                </button>
            </div>
            <div class="col">
                <button id="resume-B" class="btn btn-danger" style="width:100%; height:100%">
                    <div id="option-B-body" class="card-body" >
                    <h5 id="option-B-title" class="card-title fw-bold">New Quiz</h5>
                      Start a new quiz.
                    </div>
                </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</html>